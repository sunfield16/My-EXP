<https://readouble.com/laravel/12.x/ja/eloquent.html#query-scopes>

[[Eloquent]]の機能の1つで、特定のModelで使うクエリに制約をかける仕組み。  
whereなどを毎回定義しなくても自動で絞り込みをかけられるようなイメージ。

## グローバルスコープ
Modelの全クエリに適用するスコープ。  
[[artisan]]の`make:scope`でファイルを作成し、Model内で使うことを宣言する形。  
クエリを実行する側で明示的に宣言することで個別に制約を外すことも可能。

## ローカルスコープ
アプリケーション内で再利用できる制約。  
Model内に`#[Scope]`属性をつけた関数を定義することで作成できる。

「アプリケーション内で共通の仕様」をクエリの制約として  
定義できるイメージ？（例えば以下のような仕様とか）

* 人気の投稿（「いいね」が一定以上ついている書き込み）
* 売れ筋商品（直近の販売数が一定以上の商品）

ローカルスコープはエディタ上の補完が効きづらい・関数を大量に定義することによる  
Modelの肥大化などの理由から使用を避ける声もある模様。

代替の手段としてBuilderを操作するクラスを別途用意するなどがある。

## 参考
<https://qiita.com/ryocha12/items/201c1cc51a53c5da7af8>  
<https://zenn.dev/manalink_dev/articles/cde8e28206d235>