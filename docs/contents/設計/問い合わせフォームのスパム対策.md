## IP制限をかける
[[htaccess|.htaccess]]などの設定を調整する。  
同じIP帯からのスパムが多い場合に有効。

## reCAPTCHAなどのボット検知ソフトウェアを導入する
<https://www.google.com/recaptcha/about/>

確実な方法として採択されていることが多い印象がある。  
（これを入れておけば大丈夫というわけではないが）

## ボット特有の行動を狙って弾く
<https://zenn.dev/coedo/articles/spam-free-mail-form>

* [[ハニーポット]]を仕掛ける
	- 例えば、一般ユーザーには見えないチェックボックスを入れて、チェックを入れた場合に弾く
		- ボットは機械的にチェックを入れてしまうという読み
		- 実装は簡単だが、スパム側もサイト上で簡単に確認できるため対策されやすい
* 送信までに一定時間かかってない場合は弾く
	- 何らかの手段でページに留まった時間を計測する必要がある
* 問い合わせフォームのURLを毎回変える
	- PHPでは難しいか？
	- いわゆる[[SPA]]であれば対応できるかも

## ボットが面倒くさがる仕組みを挟む
<https://pc11.co.jp/contactform7-antispam/>

* フォームの中で簡単なクイズを出す（`3 + 5 = ?` みたいな感じ）
	- 一般ユーザーもやらないといけないのでユーザビリティは低くなってしまう
* フォームとは関係ないチェックボックスを用意して、チェックを入れないと送信できないようにする
	- 一般ユーザーから見ても内容の最終確認になる
	- スパム側も対策はできるため、効果は薄め

## 送信用のページに直接アクセスできないようにする
<https://zenn.dev/sug0130/articles/1e6eadb9042cd3>

`$_SERVER['HTTP_REFERER']`を使って遷移元のページを取得。  
特定のページからアクセスされたかどうかを確認する。  
メール送信処理のPHPなどに直接アクセスが来ても弾く仕組みにする。

ただしこれも完全に信頼できるものではない模様。  
（[[UserAgent]]によってはセットされなかったり書き換えが可能だったりする）

## 問い合わせフォームを自作しない
<https://knowledge.sakura.ad.jp/25123/>  
<https://www.google.com/intl/ja_jp/forms/about/>

GoogleFormsなどを利用して問い合わせフォームを実現する。  
サポートチームとの連携なども必要になるため、手間はかかりそう。